import java.util.*;


class TV {
    public void on() {
        System.out.println("üì∫ –¢–µ–ª–µ–≤–∏–∑–æ—Ä “õ–æ—Å—ã–ª–¥—ã.");
    }

    public void off() {
        System.out.println("üì¥ –¢–µ–ª–µ–≤–∏–∑–æ—Ä ”©—à—ñ—Ä—ñ–ª–¥—ñ.");
    }

    public void setChannel(int channel) {
        System.out.println("üî¢ –ê—Ä–Ω–∞ —Ç–∞“£–¥–∞–ª–¥—ã: " + channel);
    }
}

class AudioSystem {
    private int volume = 5;

    public void on() {
        System.out.println("üîä –ê—É–¥–∏–æ–∂“Ø–π–µ “õ–æ—Å—ã–ª–¥—ã.");
    }

    public void off() {
        System.out.println("üîá –ê—É–¥–∏–æ–∂“Ø–π–µ ”©—à—ñ—Ä—ñ–ª–¥—ñ.");
    }

    public void setVolume(int level) {
        this.volume = level;
        System.out.println("üéö –ì—Ä–æ–º–∫–æ—Å—Ç—å –æ—Ä–Ω–∞—Ç—ã–ª–¥—ã: " + volume);
    }
}

class DVDPlayer {
    public void play() {
        System.out.println("‚ñ∂Ô∏è –§–∏–ª—å–º –æ–π–Ω–∞—Ç—ã–ª—É–¥–∞...");
    }

    public void pause() {
        System.out.println("‚è∏ –§–∏–ª—å–º —É–∞“õ—ã—Ç—à–∞ —Ç–æ“õ—Ç–∞—Ç—ã–ª–¥—ã.");
    }

    public void stop() {
        System.out.println("‚èπ –§–∏–ª—å–º —Ç–æ“õ—Ç–∞—Ç—ã–ª–¥—ã.");
    }
}

// –û–π—ã–Ω –∫–æ–Ω—Å–æ–ª—ñ
class GameConsole {
    public void on() {
        System.out.println("üéÆ –û–π—ã–Ω –∫–æ–Ω—Å–æ–ª—ñ “õ–æ—Å—ã–ª–¥—ã.");
    }

    public void startGame(String game) {
        System.out.println("üïπ –û–π—ã–Ω —ñ—Å–∫–µ “õ–æ—Å—ã–ª–¥—ã: " + game);
    }
}

// –§–ê–°–ê–î –ö–õ–ê–°–´
class HomeTheaterFacade {
    private TV tv;
    private AudioSystem audio;
    private DVDPlayer dvd;
    private GameConsole console;

    public HomeTheaterFacade(TV tv, AudioSystem audio, DVDPlayer dvd, GameConsole console) {
        this.tv = tv;
        this.audio = audio;
        this.dvd = dvd;
        this.console = console;
    }

    // –§–∏–ª—å–º –∫”©—Ä—É —Å—Ü–µ–Ω–∞—Ä–∏–π—ñ
    public void watchMovie() {
        System.out.println("\nüé¨ –§–∏–ª—å–º –∫”©—Ä—É —Ä–µ–∂–∏–º—ñ –±–∞—Å—Ç–∞–ª–¥—ã:");
        tv.on();
        tv.setChannel(3);
        audio.on();
        audio.setVolume(7);
        dvd.play();
    }

    // –ú—É–∑—ã–∫–∞ —Ç—ã“£–¥–∞—É —Å—Ü–µ–Ω–∞—Ä–∏–π—ñ
    public void listenToMusic() {
        System.out.println("\nüéµ –ú—É–∑—ã–∫–∞ —Ç—ã“£–¥–∞—É —Ä–µ–∂–∏–º—ñ –±–∞—Å—Ç–∞–ª–¥—ã:");
        tv.on();
        audio.on();
        audio.setVolume(6);
        System.out.println("üì° TV –∞—É–¥–∏–æ–∫—ñ—Ä—ñ—Å—ñ–Ω–µ “õ–æ—Å—ã–ª–¥—ã.");
    }

    // –û–π—ã–Ω —Ä–µ–∂–∏–º—ñ
    public void playGame(String game) {
        System.out.println("\nüéÆ –û–π—ã–Ω —Ä–µ–∂–∏–º—ñ –±–∞—Å—Ç–∞–ª–¥—ã:");
        tv.on();
        audio.on();
        console.on();
        console.startGame(game);
    }

    // –ë–∞—Ä–ª—ã“ì—ã–Ω ”©—à—ñ—Ä—É
    public void shutdown() {
        System.out.println("\nüîå –ë–∞—Ä–ª—ã“õ “õ“±—Ä—ã–ª“ì—ã–ª–∞—Ä ”©—à—ñ—Ä—ñ–ª—É–¥–µ...");
        dvd.stop();
        audio.off();
        tv.off();
        System.out.println("‚úÖ –ñ“Ø–π–µ —Å”ô—Ç—Ç—ñ ”©—à—ñ—Ä—ñ–ª–¥—ñ.");
    }

    // –î—ã–±—ã—Å —Ä–µ—Ç—Ç–µ—É
    public void setVolume(int level) {
        audio.setVolume(level);
    }
}



abstract class FileSystemComponent {
    protected String name;

    public FileSystemComponent(String name) {
        this.name = name;
    }

    public abstract void display(String indent);
    public abstract int getSize();
}

class File extends FileSystemComponent {
    private int size;

    public File(String name, int size) {
        super(name);
        this.size = size;
    }

    @Override
    public void display(String indent) {
        System.out.println(indent + "üìÑ –§–∞–π–ª: " + name + " (" + size + "KB)");
    }

    @Override
    public int getSize() {
        return size;
    }
}

class Directory extends FileSystemComponent {
    private List<FileSystemComponent> components = new ArrayList<>();

    public Directory(String name) {
        super(name);
    }

    public void addComponent(FileSystemComponent component) {
        if (!components.contains(component)) {
            components.add(component);
            System.out.println("‚ûï '" + component.name + "' –ø–∞–ø–∫–∞“ì–∞ “õ–æ—Å—ã–ª–¥—ã: " + name);
        } else {
            System.out.println("‚ö†Ô∏è '" + component.name + "' –±“±–¥–∞–Ω –±“±—Ä—ã–Ω –±–∞—Ä.");
        }
    }

    public void removeComponent(FileSystemComponent component) {
        if (components.contains(component)) {
            components.remove(component);
            System.out.println("üóë '" + component.name + "' ”©—à—ñ—Ä—ñ–ª–¥—ñ: " + name);
        } else {
            System.out.println("‚ö†Ô∏è '" + component.name + "' —Ç–∞–±—ã–ª–º–∞–¥—ã.");
        }
    }

    @Override
    public void display(String indent) {
        System.out.println(indent + "üìÅ –ü–∞–ø–∫–∞: " + name);
        for (FileSystemComponent c : components) {
            c.display(indent + "   ");
        }
    }

    @Override
    public int getSize() {
        int total = 0;
        for (FileSystemComponent c : components) {
            total += c.getSize();
        }
        return total;
    }
}


public class DesignPatternsDemo {
    public static void main(String[] args) {
        // ====== –§–ê–°–ê–î –ü–ê–¢–¢–ï–†–ù–Ü ======
        TV tv = new TV();
        AudioSystem audio = new AudioSystem();
        DVDPlayer dvd = new DVDPlayer();
        GameConsole console = new GameConsole();

        HomeTheaterFacade homeTheater = new HomeTheaterFacade(tv, audio, dvd, console);

        homeTheater.watchMovie();
        homeTheater.setVolume(9);
        homeTheater.playGame("Mortal Kombat");
        homeTheater.listenToMusic();
        homeTheater.shutdown();

        // ====== –ö–û–ú–ü–û–ù–û–í–©–ò–ö –ü–ê–¢–¢–ï–†–ù–Ü ======
        System.out.println("\n============================");
        System.out.println("üíæ –§–ê–ô–õ –ñ“Æ–ô–ï–°–Ü –ò–ï–†–ê–†–•–ò–Ø–°–´:");
        System.out.println("============================");

        Directory root = new Directory("Root");
        Directory docs = new Directory("“ö“±–∂–∞—Ç—Ç–∞—Ä");
        Directory pics = new Directory("–°—É—Ä–µ—Ç—Ç–µ—Ä");

        File f1 = new File("–†–µ—Ñ–µ—Ä–∞—Ç.docx", 120);
        File f2 = new File("–ï—Å–µ–ø.xlsx", 80);
        File p1 = new File("–§–æ—Ç–æ1.jpg", 500);
        File p2 = new File("–§–æ—Ç–æ2.png", 750);

        root.addComponent(docs);
        root.addComponent(pics);

        docs.addComponent(f1);
        docs.addComponent(f2);

        pics.addComponent(p1);
        pics.addComponent(p2);

        root.display("");
        System.out.println("\nüì¶ –ë–∞—Ä–ª—ã“õ –∂“Ø–π–µ –∫”©–ª–µ–º—ñ: " + root.getSize() + "KB");
    }
}
