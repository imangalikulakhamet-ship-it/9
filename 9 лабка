
import java.util.*;


class RoomBookingSystem {
    private List<String> bookedRooms = new ArrayList<>();

    public void bookRoom(String roomNumber) {
        bookedRooms.add(roomNumber);
        System.out.println("‚úÖ –ù–æ–º–µ—Ä " + roomNumber + " —Å”ô—Ç—Ç—ñ –±—Ä–æ–Ω–¥–∞–ª–¥—ã.");
    }

    public void cancelBooking(String roomNumber) {
        bookedRooms.remove(roomNumber);
        System.out.println("‚ùå –ù–æ–º–µ—Ä " + roomNumber + " –±—Ä–æ–Ω—å–¥–∞–Ω –±–æ—Å–∞—Ç—ã–ª–¥—ã.");
    }

    public boolean isAvailable(String roomNumber) {
        return !bookedRooms.contains(roomNumber);
    }
}

class RestaurantSystem {
    public void bookTable(String customerName) {
        System.out.println("üçΩ " + customerName + " “Ø—à—ñ–Ω “Ø—Å—Ç–µ–ª –±—Ä–æ–Ω–¥–∞–ª–¥—ã.");
    }

    public void orderFood(String foodName) {
        System.out.println("üç≤ –¢–∞“ì–∞–º“ì–∞ —Ç–∞–ø—Å—ã—Ä—ã—Å –±–µ—Ä—ñ–ª–¥—ñ: " + foodName);
    }

    public void orderTaxi(String customerName) {
        System.out.println("üöï " + customerName + " “Ø—à—ñ–Ω —Ç–∞–∫—Å–∏ —à–∞“õ—ã—Ä—ã–ª–¥—ã.");
    }
}

class EventManagementSystem {
    public void bookConferenceHall(String eventName) {
        System.out.println("üèõ –ö–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü-–∑–∞–ª " + eventName + " “Ø—à—ñ–Ω –±—Ä–æ–Ω–¥–∞–ª–¥—ã.");
    }

    public void orderEquipment(String equipment) {
        System.out.println("üí° –ñ–∞–±–¥—ã“õ“õ–∞ —Ç–∞–ø—Å—ã—Ä—ã—Å –±–µ—Ä—ñ–ª–¥—ñ: " + equipment);
    }
}

class CleaningService {
    public void scheduleCleaning(String roomNumber) {
        System.out.println("üßπ –ù–æ–º–µ—Ä " + roomNumber + " “Ø—à—ñ–Ω —Ç–∞–∑–∞–ª–∞—É –∫–µ—Å—Ç–µ–≥–µ “õ–æ–π—ã–ª–¥—ã.");
    }

    public void performCleaning(String roomNumber) {
        System.out.println("‚ú® –ù–æ–º–µ—Ä " + roomNumber + " —Ç–∞–∑–∞–ª–∞–Ω–¥—ã.");
    }
}

class HotelFacade {
    private RoomBookingSystem roomBooking = new RoomBookingSystem();
    private RestaurantSystem restaurant = new RestaurantSystem();
    private EventManagementSystem events = new EventManagementSystem();
    private CleaningService cleaning = new CleaningService();

    public void bookRoomWithServices(String roomNumber, String foodName) {
        if (roomBooking.isAvailable(roomNumber)) {
            roomBooking.bookRoom(roomNumber);
            restaurant.orderFood(foodName);
            cleaning.scheduleCleaning(roomNumber);
            System.out.println("‚úÖ –¢–æ–ª—ã“õ “õ—ã–∑–º–µ—Ç—Ç–µ—Ä –∂–∏—ã–Ω—Ç—ã“ì—ã —Å”ô—Ç—Ç—ñ –±—Ä–æ–Ω–¥–∞–ª–¥—ã!\n");
        } else {
            System.out.println("‚ùå –ë“±–ª –Ω–æ–º–µ—Ä –±–æ—Å –µ–º–µ—Å.\n");
        }
    }

    public void organizeEvent(String eventName, String roomNumber, String equipment) {
        events.bookConferenceHall(eventName);
        events.orderEquipment(equipment);
        roomBooking.bookRoom(roomNumber);
        System.out.println("üéâ –Ü—Å-—à–∞—Ä–∞ " + eventName + " —Å”ô—Ç—Ç—ñ “±–π—ã–º–¥–∞—Å—Ç—ã—Ä—ã–ª–¥—ã!\n");
    }

    public void bookTableWithTaxi(String customerName) {
        restaurant.bookTable(customerName);
        restaurant.orderTaxi(customerName);
        System.out.println("üç∑ " + customerName + " “Ø—à—ñ–Ω “Ø—Å—Ç–µ–ª –º–µ–Ω —Ç–∞–∫—Å–∏ –¥–∞–π—ã–Ω!\n");
    }

    public void cancelRoomBooking(String roomNumber) {
        roomBooking.cancelBooking(roomNumber);
    }

    public void requestCleaning(String roomNumber) {
        cleaning.performCleaning(roomNumber);
    }
}


abstract class OrganizationComponent {
    protected String name;

    public OrganizationComponent(String name) {
        this.name = name;
    }

    public abstract void showStructure(String prefix);
    public abstract double getBudget();
    public abstract int getEmployeeCount();

    public void add(OrganizationComponent component) {
        throw new UnsupportedOperationException();
    }

    public void remove(OrganizationComponent component) {
        throw new UnsupportedOperationException();
    }

    public String getName() {
        return name;
    }
}

class Employee extends OrganizationComponent {
    private String position;
    private double salary;

    public Employee(String name, String position, double salary) {
        super(name);
        this.position = position;
        this.salary = salary;
    }

    @Override
    public void showStructure(String prefix) {
        System.out.println(prefix + "- üë§ " + name + " (" + position + "), –∂–∞–ª–∞“õ—ã: " + salary);
    }

    @Override
    public double getBudget() {
        return salary;
    }

    @Override
    public int getEmployeeCount() {
        return 1;
    }

    public void setSalary(double salary) {
        this.salary = salary;
    }
}

class Contractor extends Employee {
    public Contractor(String name, String position, double salary) {
        super(name, position, salary);
    }

    @Override
    public double getBudget() {
        return 0; // –ö–æ–Ω—Ç—Ä–∞–∫—Ç–æ—Ä –±—é–¥–∂–µ—Ç–∫–µ –∫—ñ—Ä–º–µ–π–¥—ñ
    }
}

class Department extends OrganizationComponent {
    private List<OrganizationComponent> components = new ArrayList<>();

    public Department(String name) {
        super(name);
    }

    @Override
    public void add(OrganizationComponent component) {
        components.add(component);
    }

    @Override
    public void remove(OrganizationComponent component) {
        components.remove(component);
    }

    @Override
    public void showStructure(String prefix) {
        System.out.println(prefix + "üè¢ " + name);
        for (OrganizationComponent c : components) {
            c.showStructure(prefix + "   ");
        }
    }

    @Override
    public double getBudget() {
        double total = 0;
        for (OrganizationComponent c : components) {
            total += c.getBudget();
        }
        return total;
    }

    @Override
    public int getEmployeeCount() {
        int total = 0;
        for (OrganizationComponent c : components) {
            total += c.getEmployeeCount();
        }
        return total;
    }

    public OrganizationComponent findEmployee(String name) {
        for (OrganizationComponent c : components) {
            if (c.getName().equalsIgnoreCase(name)) {
                return c;
            }
            if (c instanceof Department) {
                OrganizationComponent found = ((Department) c).findEmployee(name);
                if (found != null) return found;
            }
        }
        return null;
    }

    public void listAllEmployees() {
        System.out.println("üìã –ë”©–ª—ñ–º: " + name);
        for (OrganizationComponent c : components) {
            if (c instanceof Employee) {
                System.out.println("   üë§ " + c.getName());
            } else if (c instanceof Department) {
                ((Department) c).listAllEmployees();
            }
        }
    }
}
